import java.io.File;
import java.nio.file.Files;
import java.util.Map;
import java.util.TreeMap;
import java.util.TreeSet;

public class IndexManager {

	private final String indexFileName = "index.csv";
	private String indexPath;
	private File indexDirectory;
	private Map<String, TreeSet<File>> indexFromFile = new TreeMap<String, TreeSet<File>>();

	public Map<String, TreeSet<File>> getIndexFromFile() {
		return indexFromFile;
	}

	IndexManager(String pathToIndexDirectory) {
		try {
			indexDirectory = new File(pathToIndexDirectory);
			if (!indexDirectory.isDirectory()) {
				throw new IllegalArgumentException("Given path does not point to a directory");
			}
			indexPath = indexDirectory.getAbsolutePath() + File.separatorChar;
			System.out.println(indexPath);
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	boolean loadIndex() {

		if (new File(indexPath + indexFileName).exists()) {
			createIndexBackup();
		}

		return false;
	}

	void createIndexBackup(){
		Files.copy(source, target, options)
	}

}
