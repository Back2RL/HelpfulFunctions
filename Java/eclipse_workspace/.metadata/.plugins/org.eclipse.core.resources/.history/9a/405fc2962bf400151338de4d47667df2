package A1_Maximale_Teilsumme;

import java.util.Random;

public class MaxTeilsumme {

	public static void main(String[] args) {
		//
		int durchlaufe = 100;
		int anzahlzufallszahlen = 1000;

		int[] array = { 31, -41, 59, 26, -53, 58, 97, -93, -23, 84 };

		long start = System.currentTimeMillis();
		for (int i = 0; i < durchlaufe; ++i) {
			int maxSum1 = findeMaxTeilsumme1(array);
		}
		double laufzeit = laufzeitSekunden(start);
		System.out.println(" Laufzeit = " + laufzeit + " Sekunden");
		System.out.println("Im Mittel benötigte die Berechnung " + laufzeit / durchlaufe + " Sekunden.");

		start = System.currentTimeMillis();
		for (int i = 0; i < durchlaufe; ++i) {
			int[] randomArray = generiereZahlenfolge(anzahlzufallszahlen);
			int maxSum1 = findeMaxTeilsumme1(randomArray);
			// System.out.println("Die Berechnung der Summe " + maxSum1);
		}
		laufzeit = laufzeitSekunden(start);
		System.out.println(" Laufzeit = " + laufzeit + " Sekunden");
		System.out.println("Im Mittel benötigte die Berechnung " + laufzeit / durchlaufe + " Sekunden.");

		start = System.currentTimeMillis();
		for (int i = 0; i < durchlaufe; ++i) {
			int[] randomArray = generiereZahlenfolge(anzahlzufallszahlen);

			int maxSum2 = findeMaxTeilsumme2(randomArray);
			// System.out.println("Die Berechnung der Summe " + maxSum2);
		}
		laufzeit = laufzeitSekunden(start);
		System.out.println(" Laufzeit = " + laufzeit + " Sekunden");
		System.out.println("Im Mittel benötigte die Berechnung " + laufzeit / durchlaufe + " Sekunden.");

	}

	public static int findeMaxTeilsumme1(int[] array) {
		int curstart = 0; // 1
		int curend = array.length; // 1 + 1 = 2
		int cursum = Integer.MIN_VALUE; // 1 + 1 = 2

		for (int i = 0; i < array.length; ++i) { // ( 1 + 1 + 1) * array.length
													// = 3*array.length
			for (int j = i; j < array.length; ++j) { // ( 1 + 1 + 1) *
														// array.length *
														// array.length =
														// 3*array.length^2
				int tmpsum = 0; // 1 * array.length^2
				for (int k = i; k <= j; ++k) { // 3 * array.length^3
					tmpsum += array[k]; // 2*array.length^3
				} // -> 5 * array.length^3
				if (tmpsum > cursum) { // 1*array.length^3
					cursum = tmpsum; // 1*array.length^3
					curstart = i; // 1*array.length^3
					curend = j; // 1*array.length^3
				} // -> 4 * array.length^3
			} // -> 4 * array.length^2 + 9 * array.length^3
		} // -> 4 * array.length^2 + 9 * array.length^3 + 3 * array.length
		return cursum; // 1
	}// -> 4 * array.length^2 + 9 * array.length^3 + 3 * array.length + 6

	public static int findeMaxTeilsumme2(int[] array) {
		int curstart = 0;
		int curend = array.length;
		int cursum = Integer.MIN_VALUE;

		for (int i = 0; i < array.length; ++i) {
			int tmpsum = 0;
			for (int j = i; j < array.length; ++j) {
				tmpsum += array[j];

				if (tmpsum > cursum) {
					cursum = tmpsum;
					curstart = i;
					curend = j;
				}
			}
		}
		return cursum;
	}

	public static int[] generiereZahlenfolge(int anzahl) {
		int[] array = new int[anzahl];
		Random rand = new Random();
		for (int i = 0; i < anzahl; ++i) {
			array[i] = rand.nextInt(2001) - 1000;
		}
		return array;
	}

	/**
	 * @param startTime
	 *            Startzeit in Millisekunden
	 * @return Zeit die seit Startzeit vergangen ist (in Sekunden)
	 */
	public static double laufzeitSekunden(long startTime) {
		return (System.currentTimeMillis() - startTime) * 0.001f;
	}
}
